var request = require('request'),
askme = require('readline-sync'),
serverId = process.argv[2],
Token = process.argv[3];

if(process.argv.length <= 2){
	ask();
	a();
} else {
	a();
}

function ask(){
  serverId = askme.question("ServerId ID: ");
  Token = askme.question("Token: ");
}

function a(){
setInterval(() => {
   request.patch(`https://discordapp.com/api/v8/guilds/${serverId}/welcome-screen`, {
        headers: {
           'Authorization' : Token,
           'Content-Type' : 'application/json' 
        },
		body: `{"enabled":true}`
    }, (err, res, body) => {
		request.patch(`https://discordapp.com/api/v8/guilds/${serverId}/welcome-screen`, {
        headers: {
           'Authorization' : Token,
           'Content-Type' : 'application/json' 
        },
		body: `{"enabled":false}`
    }, (err, res, body) => {
		console.log(body);
	});
});
}, 1);
}
